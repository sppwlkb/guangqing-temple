# Firebase é›²ç«¯æœå‹™è¨­ç½®æŒ‡å—

## ğŸš€ æ­¥é©Ÿ 1ï¼šå‰µå»º Firebase å°ˆæ¡ˆ

1. **å‰å¾€ Firebase æ§åˆ¶å°**
   - è¨ªå•ï¼šhttps://console.firebase.google.com/
   - ä½¿ç”¨ Google å¸³è™Ÿç™»å…¥

2. **å‰µå»ºæ–°å°ˆæ¡ˆ**
   - é»æ“Šã€Œæ–°å¢å°ˆæ¡ˆã€
   - å°ˆæ¡ˆåç¨±ï¼š`guangqing-temple-accounting`
   - é¸æ“‡åœ°å€ï¼š`asia-east1` (å°ç£)
   - å•Ÿç”¨ Google Analyticsï¼ˆå¯é¸ï¼‰

## ğŸ”§ æ­¥é©Ÿ 2ï¼šè¨­ç½® Firebase æœå‹™

### 2.1 å•Ÿç”¨ Authentication
1. åœ¨å·¦å´é¸å–®é»æ“Šã€ŒAuthenticationã€
2. é»æ“Šã€Œé–‹å§‹ä½¿ç”¨ã€
3. åœ¨ã€ŒSign-in methodã€æ¨™ç±¤ä¸­å•Ÿç”¨ï¼š
   - âœ… **é›»å­éƒµä»¶/å¯†ç¢¼**
   - âœ… **åŒ¿å**

### 2.2 è¨­ç½® Firestore Database
1. åœ¨å·¦å´é¸å–®é»æ“Šã€ŒFirestore Databaseã€
2. é»æ“Šã€Œå»ºç«‹è³‡æ–™åº«ã€
3. é¸æ“‡ã€Œä»¥æ¸¬è©¦æ¨¡å¼é–‹å§‹ã€
4. é¸æ“‡åœ°å€ï¼š`asia-east1` (å°ç£)

### 2.3 è¨­ç½® Storage
1. åœ¨å·¦å´é¸å–®é»æ“Šã€ŒStorageã€
2. é»æ“Šã€Œé–‹å§‹ä½¿ç”¨ã€
3. é¸æ“‡ã€Œä»¥æ¸¬è©¦æ¨¡å¼é–‹å§‹ã€
4. é¸æ“‡åœ°å€ï¼š`asia-east1` (å°ç£)

## âš™ï¸ æ­¥é©Ÿ 3ï¼šç²å–é…ç½®è³‡è¨Š

1. **å‰å¾€å°ˆæ¡ˆè¨­å®š**
   - é»æ“Šå·¦ä¸Šè§’é½’è¼ªåœ–æ¨™ â†’ ã€Œå°ˆæ¡ˆè¨­å®šã€

2. **æ–°å¢ Web æ‡‰ç”¨ç¨‹å¼**
   - æ»‘åˆ°ã€Œæ‚¨çš„æ‡‰ç”¨ç¨‹å¼ã€å€åŸŸ
   - é»æ“Šã€ŒWebã€åœ–æ¨™ `</>`
   - æ‡‰ç”¨ç¨‹å¼æš±ç¨±ï¼š`å»£æ¸…å®®è¨˜å¸³è»Ÿé«”`
   - âœ… å‹¾é¸ã€ŒåŒæ™‚ç‚ºé€™å€‹æ‡‰ç”¨ç¨‹å¼è¨­å®š Firebase Hostingã€
   - é»æ“Šã€Œè¨»å†Šæ‡‰ç”¨ç¨‹å¼ã€

3. **è¤‡è£½é…ç½®è³‡è¨Š**
   - è¤‡è£½ `firebaseConfig` ç‰©ä»¶
   - çœ‹èµ·ä¾†åƒé€™æ¨£ï¼š
   ```javascript
   const firebaseConfig = {
     apiKey: "AIzaSyC...",
     authDomain: "guangqing-temple-accounting.firebaseapp.com",
     projectId: "guangqing-temple-accounting",
     storageBucket: "guangqing-temple-accounting.appspot.com",
     messagingSenderId: "123456789",
     appId: "1:123456789:web:abcdef..."
   };
   ```

## ğŸ”‘ æ­¥é©Ÿ 4ï¼šæ›´æ–°å°ˆæ¡ˆé…ç½®

å°‡è¤‡è£½çš„é…ç½®è³‡è¨Šæ›¿æ›åˆ° `firebase-config.js` æ–‡ä»¶ä¸­ï¼š

```javascript
// æ›¿æ›é€™å€‹é…ç½®ç‰©ä»¶
const firebaseConfig = {
    // è²¼ä¸Šæ‚¨å¾ Firebase æ§åˆ¶å°è¤‡è£½çš„é…ç½®
    apiKey: "æ‚¨çš„APIé‡‘é‘°",
    authDomain: "æ‚¨çš„å°ˆæ¡ˆ.firebaseapp.com",
    projectId: "æ‚¨çš„å°ˆæ¡ˆID",
    storageBucket: "æ‚¨çš„å°ˆæ¡ˆ.appspot.com",
    messagingSenderId: "æ‚¨çš„ç™¼é€è€…ID",
    appId: "æ‚¨çš„æ‡‰ç”¨ç¨‹å¼ID"
};
```

## ğŸ›¡ï¸ æ­¥é©Ÿ 5ï¼šè¨­ç½®å®‰å…¨è¦å‰‡

### 5.1 Firestore å®‰å…¨è¦å‰‡
åœ¨ Firestore Database â†’ è¦å‰‡ï¼Œè¨­ç½®ä»¥ä¸‹è¦å‰‡ï¼š

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // ç”¨æˆ¶åªèƒ½è¨ªå•è‡ªå·±çš„è³‡æ–™
    match /temples/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
      
      // å­é›†åˆè¦å‰‡
      match /{collection}/{document} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
    }
    
    // ç”¨æˆ¶è³‡æ–™
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
  }
}
```

### 5.2 Storage å®‰å…¨è¦å‰‡
åœ¨ Storage â†’ è¦å‰‡ï¼Œè¨­ç½®ä»¥ä¸‹è¦å‰‡ï¼š

```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /temples/{userId}/{allPaths=**} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
  }
}
```

## ğŸŒ æ­¥é©Ÿ 6ï¼šè¨­ç½® Hostingï¼ˆå¯é¸ï¼‰

å¦‚æœè¦ä½¿ç”¨ Firebase Hostingï¼š

1. **å®‰è£ Firebase CLI**
   ```bash
   npm install -g firebase-tools
   ```

2. **ç™»å…¥ Firebase**
   ```bash
   firebase login
   ```

3. **åˆå§‹åŒ–å°ˆæ¡ˆ**
   ```bash
   firebase init hosting
   ```

4. **éƒ¨ç½²**
   ```bash
   firebase deploy
   ```

## âœ… æ­¥é©Ÿ 7ï¼šæ¸¬è©¦é…ç½®

1. **é‡æ–°è¼‰å…¥ç¶²é **
2. **æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°**
   - æ‡‰è©²çœ‹åˆ°ã€ŒFirebase åˆå§‹åŒ–æˆåŠŸã€
3. **æ¸¬è©¦ç™»å…¥åŠŸèƒ½**
   - é»æ“Šå³ä¸Šè§’ç”¨æˆ¶åœ–æ¨™
   - å˜—è©¦è¨»å†Šæ–°å¸³è™Ÿ
4. **æ¸¬è©¦åŒæ­¥åŠŸèƒ½**
   - æ–°å¢ä¸€ç­†è¨˜éŒ„
   - æª¢æŸ¥æ˜¯å¦é¡¯ç¤ºåŒæ­¥ç‹€æ…‹

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œï¼š

1. **ã€ŒFirebase åˆå§‹åŒ–å¤±æ•—ã€**
   - æª¢æŸ¥é…ç½®è³‡è¨Šæ˜¯å¦æ­£ç¢º
   - ç¢ºèªç¶²è·¯é€£ç·šæ­£å¸¸

2. **ã€Œç”¨æˆ¶æœªç™»å…¥ã€**
   - æª¢æŸ¥ Authentication æ˜¯å¦å·²å•Ÿç”¨
   - ç¢ºèªå®‰å…¨è¦å‰‡è¨­ç½®æ­£ç¢º

3. **ã€Œæ¬Šé™è¢«æ‹’çµ•ã€**
   - æª¢æŸ¥ Firestore å®‰å…¨è¦å‰‡
   - ç¢ºèªç”¨æˆ¶å·²æ­£ç¢ºç™»å…¥

4. **ã€Œé›¢ç·šæŒä¹…åŒ–å¤±æ•—ã€**
   - å¤šå€‹æ¨™ç±¤é è¡çªï¼Œé—œé–‰å…¶ä»–æ¨™ç±¤é 
   - æ¸…é™¤ç€è¦½å™¨å¿«å–é‡è©¦

## ğŸ“± æ‰‹æ©Ÿç«¯æ¸¬è©¦

1. **åœ¨æ‰‹æ©Ÿç€è¦½å™¨é–‹å•Ÿç¶²ç«™**
2. **æ¸¬è©¦é›¢ç·šåŠŸèƒ½**
   - é—œé–‰ç¶²è·¯é€£ç·š
   - æ–°å¢è¨˜éŒ„ï¼ˆæ‡‰è©²æ­£å¸¸é‹ä½œï¼‰
   - é–‹å•Ÿç¶²è·¯é€£ç·šï¼ˆæ‡‰è©²è‡ªå‹•åŒæ­¥ï¼‰

3. **æ¸¬è©¦è·¨è¨­å‚™åŒæ­¥**
   - åœ¨é›»è…¦ä¸Šç™»å…¥ä¸¦æ–°å¢è¨˜éŒ„
   - åœ¨æ‰‹æ©Ÿä¸Šç™»å…¥åŒä¸€å¸³è™Ÿ
   - æª¢æŸ¥è³‡æ–™æ˜¯å¦åŒæ­¥

## ğŸ¯ å®Œæˆå¾Œçš„åŠŸèƒ½

- âœ… **çœŸæ­£çš„é›²ç«¯å­˜å„²**ï¼šè³‡æ–™æ°¸ä¹…ä¿å­˜åœ¨ Firebase
- âœ… **å¤šè¨­å‚™åŒæ­¥**ï¼šæ‰‹æ©Ÿã€é›»è…¦è³‡æ–™å³æ™‚åŒæ­¥
- âœ… **é›¢ç·šæ“ä½œ**ï¼šç„¡ç¶²è·¯æ™‚æ­£å¸¸ä½¿ç”¨ï¼Œæ¢å¾©ç¶²è·¯è‡ªå‹•åŒæ­¥
- âœ… **ç”¨æˆ¶èªè­‰**ï¼šå®‰å…¨çš„å¸³è™Ÿç³»çµ±
- âœ… **å¯¦æ™‚æ›´æ–°**ï¼šå¤šè¨­å‚™é–“å³æ™‚è³‡æ–™åŒæ­¥
- âœ… **è‡ªå‹•å‚™ä»½**ï¼šè³‡æ–™è‡ªå‹•å‚™ä»½ï¼Œæ°¸ä¸éºå¤±

è¨­ç½®å®Œæˆå¾Œï¼Œæ‚¨çš„å»£æ¸…å®®è¨˜å¸³è»Ÿé«”å°‡å…·å‚™ä¼æ¥­ç´šçš„é›²ç«¯åŠŸèƒ½ï¼ 