# 廣清宮記帳軟體 - 線上部署指南

## 🎯 快速部署步驟

### 方法一：GitHub Pages 部署（推薦）

#### 1. 創建 GitHub 倉庫
1. 前往 [GitHub](https://github.com)
2. 點擊右上角的 "+" → "New repository"
3. 填入倉庫資訊：
   ```
   Repository name: guangqing-temple-accounting
   Description: 廣清宮快速記帳軟體 - 專為宮廟設計的現代化記帳管理系統
   Public: ✅ (勾選)
   Add a README file: ❌ (不勾選)
   ```
4. 點擊 "Create repository"

#### 2. 推送代碼到 GitHub
在您的專案目錄中執行：
```bash
# 設定遠端倉庫
git remote set-url origin https://github.com/sppwlkb/guangqing-temple-accounting.git

# 推送代碼
git push -u origin main
```

#### 3. 啟用 GitHub Pages
1. 在 GitHub 倉庫頁面，點擊 "Settings"
2. 在左側選單找到 "Pages"
3. 在 "Source" 選擇 "GitHub Actions"
4. 系統會自動檢測到 `.github/workflows/deploy.yml` 並開始部署

#### 4. 等待部署完成
- 部署過程約需 2-5 分鐘
- 可在 "Actions" 頁面查看部署進度
- 部署完成後，網站將可在以下網址訪問：
  ```
  https://sppwlkb.github.io/guangqing-temple-accounting/
  ```

### 方法二：Firebase Hosting 部署

#### 1. 安裝 Firebase CLI
```bash
npm install -g firebase-tools
```

#### 2. 登入 Firebase
```bash
firebase login
```

#### 3. 初始化 Firebase 專案
```bash
firebase init hosting
```
選擇：
- 使用現有專案：`temple-accounting-a5d35`
- Public directory: `dist`
- Single-page app: `Yes`
- 覆寫 index.html: `No`

#### 4. 建置和部署
```bash
# 建置專案
npm run build

# 部署到 Firebase
firebase deploy
```

### 方法三：Vercel 部署

#### 1. 安裝 Vercel CLI
```bash
npm install -g vercel
```

#### 2. 部署
```bash
# 建置專案
npm run build

# 部署到 Vercel
vercel --prod
```

## 🔧 部署前檢查

### 必要檔案檢查
確保以下檔案存在且配置正確：

- ✅ `package.json` - 依賴和腳本配置
- ✅ `vite.config.js` - 建置配置
- ✅ `firebase-config.js` - Firebase 配置
- ✅ `.github/workflows/deploy.yml` - GitHub Actions 配置
- ✅ `index.html` - 主頁面
- ✅ `src/` - 源代碼目錄

### 環境變數設定
如需自定義配置，請：

1. 複製 `.env.production.example` 為 `.env.production`
2. 填入實際的配置值
3. 重新建置和部署

## 📊 部署狀態檢查

### GitHub Actions 狀態
- 前往：`https://github.com/sppwlkb/guangqing-temple-accounting/actions`
- 查看最新的 workflow 執行狀態
- 綠色勾號表示部署成功

### 網站可用性檢查
部署完成後，請檢查：

1. **主頁面載入**：`https://sppwlkb.github.io/guangqing-temple-accounting/`
2. **功能正常**：登入、記帳、報表等功能
3. **響應式設計**：手機、平板、電腦顯示正常
4. **Firebase 連接**：雲端同步功能正常

## 🚨 常見問題解決

### 問題 1：GitHub Actions 部署失敗
**解決方案**：
1. 檢查 `.github/workflows/deploy.yml` 配置
2. 確認 Node.js 版本兼容性
3. 查看 Actions 日誌中的錯誤訊息

### 問題 2：網站無法載入
**解決方案**：
1. 檢查 `vite.config.js` 中的 `base` 路徑設定
2. 確認 GitHub Pages 設定正確
3. 等待 DNS 傳播（可能需要幾分鐘）

### 問題 3：Firebase 功能異常
**解決方案**：
1. 檢查 `firebase-config.js` 配置
2. 確認 Firebase 專案設定
3. 檢查瀏覽器控制台錯誤訊息

## 🎯 部署後設定

### 1. 自定義域名（可選）
如需使用自定義域名：

1. 在 GitHub 倉庫 Settings → Pages
2. 在 "Custom domain" 填入您的域名
3. 設定 DNS CNAME 記錄指向 `sppwlkb.github.io`

### 2. SSL 證書
GitHub Pages 自動提供 SSL 證書，確保：
- "Enforce HTTPS" 選項已啟用
- 網站使用 `https://` 協議訪問

### 3. 監控設定
建議設定：
- Google Analytics（如需要）
- 錯誤監控服務
- 效能監控工具

## 📱 行動裝置優化

### PWA 功能
系統已支援 PWA（Progressive Web App）：

1. **手機安裝**：
   - 在手機瀏覽器開啟網站
   - 點擊「加入主畫面」
   - 即可像 App 一樣使用

2. **離線功能**：
   - 支援離線記帳
   - 自動同步功能
   - 快取重要資源

## 🔄 更新部署

### 自動更新
每次推送代碼到 `main` 分支時，GitHub Actions 會自動：
1. 建置最新版本
2. 執行測試
3. 部署到 GitHub Pages

### 手動更新
如需手動觸發部署：
1. 前往 GitHub Actions 頁面
2. 選擇 "Deploy to GitHub Pages" workflow
3. 點擊 "Run workflow"

## 📞 技術支援

### 部署問題協助
如遇到部署問題，請提供：
- 錯誤訊息截圖
- GitHub Actions 日誌
- 瀏覽器控制台錯誤
- 操作系統和瀏覽器版本

### 聯絡方式
- **GitHub Issues**：在倉庫中創建 Issue
- **技術文檔**：查看 `docs/` 目錄
- **故障排除**：參考 `docs/troubleshooting-guide.md`

---

## 🎉 部署完成！

完成部署後，您的廣清宮記帳軟體將可在以下網址訪問：

**主要網址**：`https://sppwlkb.github.io/guangqing-temple-accounting/`

系統特色：
- ✅ 專為宮廟設計的記帳功能
- ✅ 響應式設計，支援各種裝置
- ✅ 離線可用，雲端同步
- ✅ 安全可靠，資料加密保護

祝您使用愉快！🙏

---

**最後更新**：2024-09-26  
**版本**：1.0.0
